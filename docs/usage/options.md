## 基本语法

```shell
smap [ -m <模式名> ] [ 选项.. ] [ -a <自定义参数名称=自定义参数值> ]
```

## 基本选项

| 选项                      | 参数       | 描述                                          |
| ------------------------- | ---------- | --------------------------------------------- |
| `-m`, `--mode`            | 模式名     | 指定操作模式名称 (如: `c4`, `c6` 等)          |
| `-a`                      | 自定义参数 | 格式: `-a name=value` (可多次使用)            |
| `-i`, `--interface`       | 接口名     | 指定网络接口 (可多次使用)                     |
| `-g`, `--set_gateway_mac` | 接口\|MAC  | 手动设置网关MAC地址 (格式: `接口名\|MAC地址`) |
| `--seed`                  | 数值       | 设置随机数种子                                |
| `--summary_file`          | 路径       | 记录扫描配置和结果的保存路径                  |
| `--probe_v4`              | 模块名     | 设置IPv4探测模块                              |
| `--probe_v6`              | 模块名     | 设置IPv6探测模块                              |

## 发送选项

| 选项                  | 参数     | 描述                     |
| --------------------- | -------- | ------------------------ |
| `--ttl`               | 数值     | 设置发送数据包的TTL      |
| `--saddr`             | 地址范围 | 设置发送源地址范围       |
| `--sport`             | 端口范围 | 设置发送源端口范围       |
| `--send_attempt_num`  | 数值     | 发送失败时的最大重试次数 |
| `--send_thread_num`   | 数值     | 发送线程数量             |
| `-b`, `--band_width`  | 带宽值   | 发送带宽设置 (K, M, G)   |
| `--send_rate`         | 数值     | 每秒发送数据包数量       |
| `--batch_size`        | 数值     | 每个发送轮次的大小       |
| `--must_sleep`        | 微秒数   | 每个发送轮次后的等待时间 |
| `-t`, `--tar_ips`     | IP范围   | 设置目标IP地址范围       |
| `-f`, `--target_file` | 文件路径 | 设置目标文件路径         |
| `-p`, `--tar_ports`   | 端口范围 | 设置目标端口范围         |
| `--cool_seconds`      | 秒数     | 发送结束后的冷却时间     |

## 接收选项

| 选项               | 参数     | 描述                             |
| ------------------ | -------- | -------------------------------- |
| `-o`, `--output`   | 模块名   | 设置输出模块                     |
| `--allow_no_succ`  | -        | 允许输出验证成功但探测失败的结果 |
| `--output_file_v4` | 文件路径 | IPv4输出文件路径                 |
| `--output_file_v6` | 文件路径 | IPv6输出文件路径                 |
| `--filter`         | 过滤方法 | 设置接收线程的数据包过滤方法     |
| `--fields`         | 字段列表 | 设置输出字段 (可多次使用)        |

## 黑白名单选项

| 选项                     | 参数     | 描述             |
| ------------------------ | -------- | ---------------- |
| `--black_list_v4`        | 文件路径 | IPv4黑名单路径   |
| `--black_list_v6`        | 文件路径 | IPv6黑名单路径   |
| `--white_list_v4`        | 文件路径 | IPv4白名单路径   |
| `--white_list_v6`        | 文件路径 | IPv6白名单路径   |
| `--source_black_list_v4` | 文件路径 | IPv4源地址黑名单 |
| `--source_black_list_v6` | 文件路径 | IPv6源地址黑名单 |
| `--source_white_list_v4` | 文件路径 | IPv4源地址白名单 |
| `--source_white_list_v6` | 文件路径 | IPv6源地址白名单 |

## 日志选项

| 选项                      | 参数     | 描述                                              |
| ------------------------- | -------- | ------------------------------------------------- |
| `-q`, `--disable_sys_log` | -        | 关闭日志终端输出                                  |
| `--log_level`             | 等级     | 设置日志等级 (0-5 或 trace-debug-info-warn-error) |
| `--log_file`              | 文件路径 | 日志输出文件                                      |
| `--log_directory`         | 目录路径 | 日志输出目录                                      |

## 帮助选项

| 选项              | 参数   | 描述                   |
| ----------------- | ------ | ---------------------- |
| (无选项)          | -      | 打印帮助信息和模块列表 |
| `--mode_help`     | 模式名 | 打印指定模式的帮助     |
| `--probe_v4_help` | 模块名 | 打印IPv4探测模块帮助   |
| `--probe_v6_help` | 模块名 | 打印IPv6探测模块帮助   |
| `--output_help`   | 模块名 | 打印输出模块帮助       |
